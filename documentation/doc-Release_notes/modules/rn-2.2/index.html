<!DOCTYPE html>
<html lang="en-US">
  <head>

    
    <meta charset="UTF-8">
    
    <title>Forklift Documentation</title>
    <!-- # Opengraph protocol properties: https://ogp.me/ -->
    <meta name="author" content="Forklift documentation team" >
    <meta property="og:type" content="article" >
    <meta name="twitter:card" content="summary">
    <meta name="keywords" content="" >
    <meta property="og:type" content="website">
    <meta property="og:image" content="">
    <meta property="og:article:author" content="Forklift documentation team" >
    <meta property="og:article:published_time" content="2025-03-02 18:49:36 -0600" >
    <meta name="twitter:title" content="Forklift Documentation">
    <meta name="twitter:description" content="Migrating VMware virtual machines to KubeVirt">

    <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Forklift Documentation | Migrating VMware virtual machines to KubeVirt</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Forklift Documentation" />
<meta name="author" content="Forklift documentation team" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Migrating VMware virtual machines to KubeVirt" />
<meta property="og:description" content="Migrating VMware virtual machines to KubeVirt" />
<meta property="og:site_name" content="Forklift Documentation" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Forklift Documentation" />
<meta name="twitter:site" content="@konveyor_io" />
<meta name="twitter:creator" content="@Forklift documentation team" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Forklift documentation team"},"description":"Migrating VMware virtual machines to KubeVirt","headline":"Forklift Documentation","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/assets/img/forklift-logo-darkbg.svg"},"name":"Forklift documentation team"},"url":"/documentation/doc-Release_notes/modules/rn-2.2/"}</script>
<!-- End Jekyll SEO tag -->

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <link rel="shortcut icon" type="image/png" href="images/favicon.png">
  </head>
  <body>
    <header class="page-header">
        
          <a href="/"><img src="/assets/img/forklift-logo-darkbg.svg" alt="Forklift Documentation" width="200" /></a><br>
        
      
        <a href="https://github.com/konveyor/forklift-documentation" class="btn">View on GitHub</a>
      
      
    </header>

    <main id="content" class="main-content" role="main">
      <h1 id="rn-22_forklift">Forklift 2.2</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>You can migrate virtual machines (VMs) from VMware vSphere or oVirt to KubeVirt with  Forklift.</p>
</div>
<div class="paragraph">
<p>The release notes describe technical changes, new features and enhancements, and known issues.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="technical-changes-22_forklift">Technical changes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This release has the following technical changes:</p>
</div>
<div class="paragraph">
<div class="title">Setting the precopy time interval for warm migration</div>
<p>You can set the time interval between snapshots taken during the precopy stage of warm migration.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="new-features-and-enhancements-22_forklift">New features and enhancements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This release has the following features and improvements:</p>
</div>
<div class="paragraph">
<div class="title">Creating validation rules</div>
<p>You can create custom validation rules to check the suitability of VMs for migration. Validation rules are based on the VM attributes collected by the <code>Provider Inventory</code> service and written in <a href="https://www.openpolicyagent.org/docs/latest/policy-language/">Rego</a>, the Open Policy Agent native query language.</p>
</div>
<div class="paragraph">
<div class="title">Downloading logs by using the web console</div>
<p>You can download logs for a migration plan or a migrated VM by using the Forklift web console.</p>
</div>
<div class="paragraph">
<div class="title">Duplicating a migration plan by using the web console</div>
<p>You can duplicate a migration plan by using the web console, including its VMs, mappings, and hooks, in order to edit the copy and run as a new migration plan.</p>
</div>
<div class="paragraph">
<div class="title">Archiving a migration plan by using the web console</div>
<p>You can archive a migration plan by using the MTV web console. Archived plans can be viewed or duplicated. They cannot be run, edited, or unarchived.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="known-issues-22_forklift">Known issues</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This release has the following known issues:</p>
</div>
<div class="paragraph">
<div class="title">Certain Validation service issues do not block migration</div>
<p>Certain <code>Validation</code> service issues, which are marked as <code>Critical</code> and display the assessment text, <code>The VM will not be migrated</code>, do not block migration. (<a href="https://bugzilla.redhat.com/show_bug.cgi?id=2025977"><strong>BZ#2025977</strong></a>)</p>
</div>
<div class="paragraph">
<p>The following <code>Validation</code> service assessments do not block migration:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Issues that do not block migration</caption>
<colgroup>
<col style="width: 66.6666%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Assessment</th>
<th class="tableblock halign-left valign-top">Result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">The disk interface type is not supported by OpenShift Virtualization (only sata, virtio_scsi and virtio interface types are currently supported).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The migrated VM will have a virtio disk if the source interface is not recognized.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">The NIC interface type is not supported by OpenShift Virtualization (only e1000, rtl8139 and virtio interface types are currently supported).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The migrated VM will have a virtio NIC if the source interface is not recognized.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">The VM is using a vNIC profile configured for host device passthrough, which is not currently supported by OpenShift Virtualization.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The migrated VM will have an SR-IOV NIC. The destination network must be set up correctly.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">One or more of the VM&#8217;s disks has an illegal or locked status condition.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The migration will proceed but the disk transfer is likely to fail.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">The VM has a disk with a storage type other than <code>image</code>, and this is not currently supported by OpenShift Virtualization.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The migration will proceed but the disk transfer is likely to fail.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">The VM has one or more snapshots with disks in ILLEGAL state. This is not currently supported by OpenShift Virtualization.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The migration will proceed but the disk transfer is likely to fail.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">The VM has USB support enabled, but USB devices are not currently supported by OpenShift Virtualization.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The migrated VM will not have USB devices.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">The VM is configured with a watchdog device, which is not currently supported by OpenShift Virtualization.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The migrated VM will not have a watchdog device.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">The VM&#8217;s status is not <code>up</code> or <code>down</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The migration will proceed but it might hang if the VM cannot be powered off.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">QEMU guest agent is not installed on migrated VMs</div>
<p>The QEMU guest agent is not installed on migrated VMs. Workaround: Install the QEMU guest agent with a post-migration hook. (<a href="https://bugzilla.redhat.com/show_bug.cgi?id=2018062"><strong>BZ#2018062</strong></a>)</p>
</div>
<div class="paragraph">
<div class="title">Missing resource causes error message in current.log file</div>
<p>If a resource does not exist, for example, if the <code>virt-launcher</code> pod does not exist because the migrated VM is powered off, its log is unavailable.</p>
</div>
<div class="paragraph">
<p>The following error appears in the missing resource&#8217;s <code>current.log</code> file when it is downloaded from the web console or created with the <code>must-gather</code> tool: <code>error: expected 'logs [-f] [-p] (POD | TYPE/NAME) [-c CONTAINER]'.</code> (<a href="https://bugzilla.redhat.com/show_bug.cgi?id=2023260"><strong>BZ#2023260</strong></a>)</p>
</div>
<div class="paragraph">
<div class="title">Importer pod log is unavailable after warm migration</div>
<p>Retaining the <code>importer</code> pod for debug purposes causes warm migration to hang during the precopy stage. (<a href="https://bugzilla.redhat.com/show_bug.cgi?id=2016290"><strong>BZ#2016290</strong></a>)</p>
</div>
<div class="paragraph">
<p>As a temporary workaround, the <code>importer</code> pod is removed at the end of the precopy stage so that the precopy succeeds. However, this means that the <code>importer</code> pod log is not retained after warm migration is complete. You can only view the <code>importer</code> pod log by using the <code>oc logs -f &lt;cdi-importer_pod&gt;</code> command during the precopy stage.</p>
</div>
<div class="paragraph">
<p>This issue only affects the <code>importer</code> pod log and warm migration. Cold migration and the <code>virt-v2v</code> logs are not affected.</p>
</div>
<div class="paragraph">
<div class="title">Deleting migration plan does not remove temporary resources.</div>
<p>Deleting a migration plan does not remove temporary resources such as <code>importer</code> pods, <code>conversion</code> pods, config maps, secrets, failed VMs and data volumes. (<a href="https://bugzilla.redhat.com/show_bug.cgi?id=2018974"><strong>BZ#2018974</strong></a>) You must archive a migration plan before deleting it in order to clean up the temporary resources.</p>
</div>
<div class="paragraph">
<div class="title">Unclear error status message for VM with no operating system</div>
<p>The error status message for a VM with no operating system on the <strong>Migration plan details</strong> page of the web console does not describe the reason for the failure. (<a href="https://bugzilla.redhat.com/show_bug.cgi?id=2008846"><strong>BZ#2008846</strong></a>)</p>
</div>
<div class="paragraph">
<div class="title">Network, storage, and VM referenced by name in the <code>Plan</code> CR are not displayed in the web console.</div>
<p>If a Plan CR references storage, network, or VMs by name instead of by ID, the resources do not appear in the Forklift web console. The migration plan cannot be edited or duplicated. (<a href="https://bugzilla.redhat.com/show_bug.cgi?id=1986020"><strong>BZ#1986020</strong></a>)</p>
</div>
<div class="paragraph">
<div class="title">Log archive file includes logs of a deleted migration plan or VM</div>
<p>If you delete a migration plan and then run a new migration plan with the same name or if you delete a migrated VM and then remigrate the source VM, the log archive file created by the Forklift web console might include the logs of the deleted migration plan or VM. (<a href="https://bugzilla.redhat.com/show_bug.cgi?id=2023764"><strong>BZ#2023764</strong></a>)</p>
</div>
<div class="paragraph">
<div class="title">If a target VM is deleted during migration, its migration status is <code>Succeeded</code> in the <code>Plan</code> CR</div>
<p>If you delete a target <code>VirtualMachine</code> CR during the 'Convert image to kubevirt' step of the migration, the <strong>Migration details</strong> page of the web console displays the state of the step as <code>VirtualMachine CR not found</code>. However, the status of the VM migration is <code>Succeeded</code> in the <code>Plan</code> CR file and in the web console. (<a href="https://bugzilla.redhat.com/show_bug.cgi?id=2031529"><strong>BZ#2031529</strong></a>)</p>
</div>
</div>
</div>

      <footer class="site-footer">
        
          <span class="site-footer-owner"><p align="center"><a href="https://github.com/konveyor/forklift-documentation">forklift-documentation</a> is maintained by <a href="https://github.com/konveyor">konveyor</a>.</p></span>
        
      </footer>
    </main>
  </body>
</html>
